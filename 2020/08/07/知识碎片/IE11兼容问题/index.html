<!DOCTYPE html>
<html lang="en">
  <head>
  <!-- so meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="HandheldFriendly" content="True">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <!-- title -->
  <title>IE11兼容问题</title>
  <!-- styles -->
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>
  <body style="background-color: #2d2d2d">
    
      <div class="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <div class="toc-wrap">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#问题"><span class="toc-number">1.</span> <span class="toc-text">问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解决"><span class="toc-number">2.</span> <span class="toc-text">解决</span></a></li></ol>
  </div>
</div>

    
    <div class="layout-content">
      <header class="layout-header">
  <nav class="header-top">
    <ul class="menu">
       
        <li class="menu-item ">
          <a href="/">Home</a>
        </li>
       
        <li class="menu-item ">
          <a href="/archives">Writing</a>
        </li>
       
        <li class="menu-item ">
          <a href="/categories">Category</a>
        </li>
       
        <li class="menu-item ">
          <a href="/about">About</a>
        </li>
      
    </ul>
  </nav>
  
  
    <div class="content">
      <div class="post-header">
        <div class="pic">
          <img src="/images/avatar.jpg" />
        </div>
        <div class="info">
          <div class="title">IE11兼容问题</div>
          <div class="post-meta">
            <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
              <span itemprop="name">Yx1aoq1</span>
            </div>
            
  <div class="meta">
    
      <time datetime="2020-08-07T02:09:38.000Z" itemprop="datePublished">2020-08-07</time>
      
    
  </div>

            
	<div class="article-category">
		<i class="fas fa-archive"></i>
		<a class="category-link" href="/categories/%E7%9F%A5%E8%AF%86%E7%A2%8E%E7%89%87/">知识碎片</a>
	</div>


            
	<div class="article-tag">
		<i class="fas fa-tag"></i>
		<a class="tag-link" href="/tags/IE11/" rel="tag">IE11</a>
	</div>


          </div>
        </div>
      </div>
    </div>
  
</header>
      <main class="layout-main">
        <article class="content">
  <h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>最近有个项目在IE11运行出了些问题，主要表现为无法登录。排查了一下原因，主要的登录接口调用成功了，但是紧接着的一个获取用户信息的接口返回了401，导致页面重新跳回了登录界面。</p>
<p><img src="https://images-1300309047.cos.ap-chengdu.myqcloud.com/blog/image-20200807102743910.png" alt="image-20200807102743910"></p>
<p>接口请求401的原因主要是没有携带Cookie，而为毛会没带Cookie呢？于是乎，就发现了接口请求后面一个括号：“来自缓存”。</p>
<p>百度了一下原因：</p>
<blockquote>
<p>IE浏览器会缓存网页中的GET和XHR的内容，请求方式是GET时，IE浏览器会进行识别。如果该GET请求的URL是第一次请求的话，会请求服务器，从数据库中获取数据；如果不是第一次，则会从缓存中拿到上次该URL获取的数据。无论是什么插件的GET方式请求，IE浏览器都会这样进行处理。</p>
</blockquote>
<p>由于不是第一次请求接口，并且手动清除了Cookie，导致了这个接口请求的Cookie没掉了，就401了。</p>
<h2 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h2><p>在GET请求的参数中增加随机数或时间戳。</p>

</article>
<div class="prev-or-next">
  <div class="post-foot-next">
    
      <a href="/2020/06/18/%E7%AE%97%E6%B3%95/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E6%80%BB%E7%BB%93/" target="_self">
        <i class="fas fa-angle-left"></i>
        <span>Previous post</span>
      </a>
    
  </div>
  <div class="post-foot-prev">
    
      <a href="/2020/08/10/Web%E5%AE%89%E5%85%A8/%E3%80%90Web%E5%AE%89%E5%85%A8%E3%80%91XSS/" target="_self">
        <span>Next post</span>
        <i class="fas fa-angle-right"></i>
      </a>
    
  </div>
</div>
      </main>
      <footer class="layout-footer">
  <div>
    Copyright &copy;
    
    
    2025
    Yx1aoq1
  </div>
</footer>
    </div>
    <!-- styles -->
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

    <!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/js/accordion-menu.js"></script>

  </body>
</html>
