## Git 是什么

> Git是一种分布式版本控制系统。

其中，“分布式”的概念是什么呢？“分布式”是相对于“集中式”来说的。把数据集中保存再服务器节点，所有的客户节点都从服务节点获取数据的版本控制系统叫做集中式版本控制系统，比如svn就是典型的集中式版本控制系统。与之相对的，Git的数据不止保存再服务器上，同时也完整的保存在本地计算机上，所以我们称Git为分布式的。

**Git的优点：**

* 本地是版本库的完整镜像，因此支持离线工作
* 绝大多数操作都只需要访问本地文件和资源，而且与每个提交都是所有文件的完整副本，因此速度非常快

**Git的缺点：**

* 只能全量整体，而不能以子目录和分支为单位进行更新、提交等操作
* 子目录和分支不能单独进行权限控制
* 由于每个提交都是所有文件的完整副本，因此更占磁盘空间

## Git 的使用

![](F:\work\my_file\Yx1aoq1.github.io\source\images\150225185826788.png)

Git 分为工作区、暂存区、与远程仓库。不同区域交互的常见命令如下：

* `git add <file>`把当前文件赋值到暂存区
* `git commit`给暂存去生成快照（40位的commitId）并提交
* `git reset -- <file>`将远程仓库的文件复制到暂存区
* `git checkout -- <file>`把文件从暂存去复制到工作区，用来丢弃本地修改。经常用于撤销一些临时测试代码。

### checkout

* 工作区的分支切换

```
git checkout <branch name>
```

* 新建分支并切换到此分支

```
git checkout -b <new branch> [<origin branch>]
```

checkout的工作本质上，是改变.git文件下的HEAD文件的指向。

* 丢弃文件修改

```
git checkout -- <file>
```

checkout的文件模式，就是将指定文件在工作区的修改全部撤销，让文件返回到上一次commit或add的状态。

### reset

`git reset`命令用于将当前HEAD复位到指定状态。命令的参数定义：

* `--soft` 回退后修改的代码被保留并标记为`add`状态
* `--mixed` 重置索引（暂存区），但不重置工作树（工作区），更改后的文件标记为未提交状态。不加参数时的默认行为。
* `--hard` 重置索引和工作树，并修改分支中所有修改的文件和中间的提交，没提交的代码会被丢弃。
* `--merge` 与`--hard`类似，不过会保留未提交的代码。
* `--keep` 与`--hard`类似，如果有reset的部分包含修改了的代码，重置会中止。

